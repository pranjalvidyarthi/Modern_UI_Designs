<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Futuristic Progress Button</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,400i,700" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
  <style>
    :root {
      --base-color: #ffffff;
      --bg-full: #00f0ff;  /* Electric cyan */
      --bg-empty: #0a0e23; /* Deep space blue */
      --bg-done: #7bff00;   /* Neon green */
      --default-font-size-label: 32px;
      --default-width: 250px;
      --default-height: 100px;
      --active-font-size-label: 18px;
      --active-font-size-progress: 48px;
      --active-width-height: 175px;
      --done-check-thickness: 10px;
      --done-check-width: 50px;
      --done-check-height: 20px;
      --animation-time: 750ms;
      --animation-style: cubic-bezier(0.7, -0.55, 0.3, 1.55);
      --glow-effect: 0 0 10px rgba(0, 240, 255, 0.7),
                     0 0 20px rgba(0, 240, 255, 0.5),
                     0 0 30px rgba(0, 240, 255, 0.3);
    }

    html, body {
      width: 100%;
      height: 100%;
      padding: 0;
      margin: 0;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    }

    body {
      font-family: Raleway, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .zz-button {
      color: var(--base-color);
      font-family: inherit;
      font-size: var(--default-font-size-label);
      font-weight: bold;
      background-color: var(--bg-full);
      width: var(--default-width);
      height: var(--default-height);
      border: none;
      cursor: pointer;
      outline: none;
      border-radius: 20% / 50%;
      transition: all var(--animation-time) var(--animation-style);
      box-shadow: var(--glow-effect);
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
      position: relative;
      overflow: hidden;
    }

    .zz-button:after {
      content: '0%';
      font-size: 0;
      display: block;
      transition: font-size var(--animation-time) ease-in-out;
    }

    .zz-button.active {
      font-size: var(--active-font-size-label);
      background-color: var(--bg-empty);
      width: var(--active-width-height);
      height: var(--active-width-height);
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(0, 240, 255, 0.8);
    }

    .zz-button.active:after {
      font-size: var(--active-font-size-progress);
    }

    /* Dynamic progress classes */
    .zz-button[zz-button-progress] {
      background-image: linear-gradient(to top, 
        var(--bg-full) calc(var(--progress-value) * 1%), 
        var(--bg-empty) calc(var(--progress-value) * 1%));
    }
    
    .zz-button[zz-button-progress]:after {
      content: attr(zz-button-progress) '%';
    }

    .zz-button[zz-button-progress='100'] {
      animation: progress-done-pre var(--animation-time) ease-out;
    }

    @keyframes progress-done-pre {
      0%   { transform: scale(1); box-shadow: 0 0 30px rgba(0, 240, 255, 0.8); }
      35%  { transform: scale(1.15); box-shadow: 0 0 50px rgba(123, 255, 0, 0.8); }
      75%  { transform: scale(0.9); }
      90%  { transform: scale(1.05) }
      100% { transform: scale(1); box-shadow: 0 0 40px rgba(123, 255, 0, 0.8); }
    }

    .zz-button-progress-done {
      color: transparent;
      background-color: var(--bg-done);
      position: relative;
      box-shadow: 0 0 30px rgba(123, 255, 0, 0.8);
    }

    .zz-button-progress-done:before {
      content: '';
      width: 0px;
      height: 0px;
      display: block;
    }

    .zz-button-progress-done.zz-button-progress-done-active:before {
      width: var(--done-check-width);
      height: var(--done-check-height);
      border: solid var(--done-check-thickness) var(--base-color);
      border-top: none;
      border-right: none;
      position: absolute;
      top: calc(var(--default-height) / 2);
      left: calc((var(--default-width) / 2) - (var(--done-check-width) / 2));
      transform: rotate(-45deg);
      transform-origin: top left;
      animation: progress-done-post var(--animation-time) var(--animation-style);
      filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.7));
    }

    @keyframes progress-done-post {
      0%   { width: 0px; height: 0px; opacity: 0; }
      50%  { width: 0px; height: var(--done-check-height); opacity: 0.5; }
      100% { width: var(--done-check-width); height: var(--done-check-height); opacity: 1; }
    }

    /* Add a subtle pulse animation to the button */
    @keyframes pulse {
      0% { box-shadow: 0 0 10px rgba(0, 240, 255, 0.7); }
      50% { box-shadow: 0 0 20px rgba(0, 240, 255, 0.9); }
      100% { box-shadow: 0 0 10px rgba(0, 240, 255, 0.7); }
    }

    .zz-button:not(.active):not(.zz-button-progress-done) {
      animation: pulse 2s infinite;
    }
  </style>
</head>
<body>
  <div id="app">
    <zz-button-progress
      text="UPLOAD"
      ref="zzUpload"
      v-on:progress="moveProgress"
      v-on:progress-finished="endProgress"
    ></zz-button-progress>
  </div>

  <script>
    // ----- The component
    Vue.component('zz-button-progress', {
      props: ['text'],
      data: function() {
        return {
          progress: null,
          active: false,
          done: false,
          check: false
        }
      },
      methods: {
        moveProgress: function(progress) {
          this.progress = progress;
          this.$el.style.setProperty('--progress-value', progress);
        },
        resetProgress: function() {
          this.progress = null;
          this.active   = false;
          this.done     = false;
          this.check    = false;
          this.$el.style.removeProperty('--progress-value');
        },
        progressClickEvent: function() {
          if (this.active === false && this.done === false) {
            this.active = true;
          }
        },
        progressTransitionEndEvent: function(evt) {
          if (this.progress === null && this.active === true) {
            this.progress = 0;
            this.$emit('progress');
          }
          else if (this.done === true) {
            this.check = true;
          }
        },
        progressAnimationEndEvent: function(evt) {
          if (evt.animationName == 'progress-done-pre') {
            this.done     = true;
            this.active   = false;
            this.progress = null;
          }
          else if (evt.animationName == 'progress-done-post') {
            this.$emit('progress-finished');
          }
        }
      },
      template: `
        <button
          v-bind:zz-button-progress="this.progress"
          v-bind:class="['zz-button', {'active': active, 'zz-button-progress-done': done, 'zz-button-progress-done-active': check}]"
          v-on:click="progressClickEvent"
          v-on:transitionend="progressTransitionEndEvent"
          v-on:animationend="progressAnimationEndEvent"
        >
          {{ this.text }}
        </button>
      `
    });

    // ----- VueJS VM
    new Vue({
      el: '#app',
      methods: {
        moveProgress: function(progress = 0) {
          var progressTimeout = setTimeout(() => {
            clearTimeout(progressTimeout);
            
            if (progress < 100) {
              let newProgress = progress + 1;
              this.$refs.zzUpload.moveProgress(newProgress);
              this.moveProgress(newProgress);
            }
          }, 10);
        },
        endProgress: function() {
          var endProgressTimeout = setTimeout(() => {
            clearTimeout(endProgressTimeout);
            this.$refs.zzUpload.resetProgress();
          }, 5000);
        }
      }
    });
  </script>
</body>
</html>